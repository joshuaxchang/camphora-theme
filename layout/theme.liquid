<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page_title }}</title>

    {{ content_for_header }}

    {{ 'application.min.css' | asset_url | stylesheet_tag }}
</head>
<body class="font-sans antialiased text-gray-800 bg-brand-bg">
    {% section 'header' %}

    <main>
        {{ content_for_layout }}
    </main>

    {% section 'footer' %}
    <div id="cart-drawer-backdrop" class="fixed inset-0 bg-black bg-opacity-50 z-30 invisible opacity-0 transition-opacity duration-300"></div>    
    {% section 'cart-drawer' %}
    <script>
      document.addEventListener('DOMContentLoaded', function() {

        // --- Hamburger Menu Code ---
        const hamburgerButton = document.getElementById('hamburger-button');
        const mobileMenu = document.getElementById('mobile-menu');

        if (hamburgerButton && mobileMenu) {
          hamburgerButton.addEventListener('click', (e) => {
            e.stopPropagation();
            mobileMenu.classList.toggle('hidden');
          });

          document.addEventListener('click', (e) => {
            if (!mobileMenu.contains(e.target) && !hamburgerButton.contains(e.target)) {
              mobileMenu.classList.add('hidden');
            }
          });

          mobileMenu.addEventListener('click', (e) => {
            if (e.target.tagName === 'A') {
              mobileMenu.classList.add('hidden');
            }
          });
        }
      });
    </script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const headerSection = document.getElementById('shopify-section-header');
        if (headerSection) {
          headerSection.classList.add('bg-brand-bg/80', 'backdrop-blur-md', 'sticky', 'top-0', 'z-30');
        }
      });
    </script>
    {% comment %} Our custom, dependency-free zoom overlay {% endcomment %}
    <div id="zoom-overlay" class="fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4 hidden opacity-0 transition-opacity duration-300">
      <div id="zoom-content" class="h-full w-full max-w-4xl overflow-y-auto space-y-4 py-8 scroll-smooth">
        {% comment %} The zoomed image will be inserted here by JavaScript {% endcomment %}
      </div>
      <button id="zoom-close" class="absolute top-4 right-4 text-white w-10 h-10">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
</body>
</html>